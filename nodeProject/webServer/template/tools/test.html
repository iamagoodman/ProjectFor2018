<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="container">
        <img src="./banner.jpg" id="img1" alt="">
        <img src="" id="img2" alt="">
    </div>
    <script>
      function getBase64Image (img) {
        const canvas = document.createElement('canvas');
        canvas.width = img.width;
        canvas.height = img.height;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(img, 0, 0, img.width, img.height);
        const dataURL = canvas.toDataURL('image/png');
        return dataURL;
      };
      function base64toFile (dataurl, filename = 'file') {
        const arr = dataurl.split(',');
        const mime = arr[0].match(/:(.*?);/)[1];
        const suffix = mime.split('/')[1];
        const bstr = atob(arr[1]);
        let n = bstr.length;
        const u8arr = new Uint8Array(n);
        while (n--) {
          u8arr[n] = bstr.charCodeAt(n);
        }
        return new File([u8arr], `${filename}.${suffix}`, {
          type: mime
        });
      };
      document.getElementById('img1').onload = function () {
        var base64_ = getBase64Image(this);
        var file1 = base64toFile(base64_);
        console.log(file1);
        var reader = new FileReader();
        reader.readAsDataURL(file1);
        reader.onload = function() {
          console.log(reader.result);
          document.getElementById('img2').src = reader.result;
        }
      }
    </script>
</body>
</html>
